extends layout

block title
    title Agents

append head

prepend page-header
    - var title = "Agents"
    - var subtitle = "Nodos de la topolog√≠a"
    - var breadrumb = ["Testbed", "Agents"]


block content
    style(type="text/css").
        input, select{
            height: 24px;
            margin-left: 10px;
            margin-right: 20px;
        }
        label{
            color: white;
        }
        details{
            width: 90%;
            padding: 5px;
        }
        summary{
            outline: none;
            color: white;
        }
        form{
            width: 90%;
        }
        details[open] {
            border: 2px solid white;
        }
        .table-container{
            margin-top: 10px;
            width: 90%;
            height: 50vh;
            overflow-y: scroll;
            overflow-x: hidden;
        }
        table{
            width: 100%;
            color: white;
        }

        table, th, td{
            border: 1px solid white;
            border-collapse: separate;
            border-spacing: 0px;
        }

        th{
            position: sticky;
            top: 0;
            background-color: #1b9d83;
        }

        tr th:nth-child(1){
            text-align: center;
            background: #126655;
        }

        tr td:nth-child(1){
            text-align: center;
        }

        tbody tr:hover {
            background-color: #20B2AA;
            cursor: pointer;
        }

        .status-KO, .status-KO:hover{
            background-color: #f0503a;
            cursor: default;
        }

        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: white;
            border-radius: 10px;
        }

    div.page-body
        h3= Filtro
        details(open)
            summary Filtro
            form(id="filtro", style="display:inline")
                div.input(style="display: inline")
                    label NodeID
                    input(type="number", name="nodeID", id="nodeID", style="width: 102px")
                div.input(style="display: inline")
                    label Device
                    input(type="text", name="device", id="device", style = "width: 102px")
                div.input(style="display: inline")
                    label Role
                    select(name="role", id="role")
                        option(value = "", selected='selected')
                        option(value = "agent") Agent
                        option(value = "cloudagent") Cloud Agent
                        option(value = "leader") Leader
                div.input(style="display: inline")
                    label Status
                    select(name="status", id="status")
                        option(value = "", selected='selected') All
                        option(value = "1") Active
                        option(value = "0") Inactive
                div.actions(style="display: inline")
                    input(type="submit", onclick="filter()", value="filtrar", style = "float: right")

        div.table-container
            table(id = "taula", cellpadding="10")
                thead

                tbody


append scripts
    script(src="/js/testbed/agents.js")
